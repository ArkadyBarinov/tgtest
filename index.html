<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="format-detection" content="telephone=no" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="MobileOptimized" content="176" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="robots" content="noindex,nofollow" />
    <title>Document</title>
    <link rel="stylesheet" href="https://unpkg.com/js-datepicker/dist/datepicker.min.css">
    <script src="https://unpkg.com/js-datepicker"></script>
    <script src="https://cdn.jsdelivr.net/npm/@easepick/bundle@1.2.0/dist/index.umd.min.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js?1"></script>
    <script src="/app.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
      function setThemeClass() {
          document.documentElement.className = Telegram.WebApp.colorScheme;
      }
      Telegram.WebApp.onEvent('themeChanged', setThemeClass);
      setThemeClass();

  </script>
      <style>
        body {
            font-family: sans-serif;
            background-color: var(--tg-theme-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #222222);
            font-size: 16px;
            margin: 0;
            padding: 0;
            color-scheme: var(--tg-color-scheme);

            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 18px;
        }




        .hint{
         color: var(--tg-theme-hint-color);
      }

      .link{
         color: var(--tg-theme-link-color);
      }

      .button{
         background: var(--tg-theme-button-color);
         color: var(--tg-theme-button-text-color);
         border: none;
         font-size: 18px;
      }

      .button:not(:last-child){
         margin-bottom: 20px
      }

      #usercard{
         text-align: center;
      }




        a {
            color: var(--tg-theme-link-color, #2678b6);
        }

        button {
            display: block;
            width: 100%;
            font-size: 14px;
            margin: 15px 0;
            padding: 12px 20px;
            border: none;
            border-radius: 4px;
            background-color: var(--tg-theme-button-color, #50a8eb);
            color: var(--tg-theme-button-text-color, #ffffff);
            cursor: pointer;
        }

        button[disabled] {
            opacity: 0.6;
            cursor: auto;
            pointer-events: none;
        }
        .forma {
          display: block;
            width: 100%;
            font-size: 14px;
            margin: 15px 0;
            padding: 12px 20px;
            border: none;
            border-radius: 4px;
            background-color: var(--tg-theme-button-color, #50a8eb);
            color: var(--tg-theme-button-text-color, #ffffff);
            cursor: pointer;
            /* margin-bottom: 500px; */
        }
        button.close_btn {
            /*position: fixed;*/
            position: absolute;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 0;
            margin: 0;
            padding: 16px 20px;
            text-transform: uppercase;
        }

        section {
            padding: 15px 15px 65px;
            text-align: center;
        }
        .confirm {
          margin-top: 200px;
        }

        p {
            margin: 40px 0 15px;
        }

        ul {
            text-align: left;
        }

        li {
            color: var(--tg-theme-hint-color, #a8a8a8);
        }



        
        textarea {
            width: 100%;
            box-sizing: border-box;
            padding: 7px;
        }
        .hint {
            font-size: .8em;
            color: var(--tg-theme-hint-color, #a8a8a8);
        }

        .ok {
            color: green;
        }

        .err {
            color: red;
        }

        #fixed_wrap {
            position: fixed;
            left: 0;
            right: 0;
            top: 0;
            transform: translateY(100vh);
        }

        .viewport_border,
        .viewport_stable_border {
            position: fixed;
            left: 0;
            right: 0;
            top: 0;
            height: var(--tg-viewport-height, 100vh);
            pointer-events: none;
        }

        .viewport_stable_border {
            height: var(--tg-viewport-stable-height, 100vh);
        }

        .viewport_border:before,
        .viewport_stable_border:before {
            content: attr(text);
            display: inline-block;
            position: absolute;
            background: gray;
            right: 0;
            top: 0;
            font-size: 7px;
            padding: 2px 4px;
            vertical-align: top;
        }

        .viewport_stable_border:before {
            background: green;
            left: 0;
            right: auto;
        }

        .viewport_border:after,
        .viewport_stable_border:after {
            content: '';
            display: block;
            position: absolute;
            left: 0;
            right: 0;
            top: 0;
            bottom: 0;
            border: 2px dashed gray;
        }

        .viewport_stable_border:after {
            border-color: green;
        }
        .qs-datepicker-container {
          display:block;
          margin-top: 200px;
        }
        small {
            font-size: 12px;
        }
        .forma {
          background: #000000;
          border-radius: 8px;
          padding: 16px;
          gap: 12px;
          width: 364px;
          height: 56px;
        }
        .GlButton {
          display: flex;
          flex-direction: row;
          justify-content: center;
          align-items: center;
        }
        .forma:hover {
          background: #404040;
        }
        .forma:focus {
        outline: none;
        }
        .forma:active {
        background: #595959;
        }
        #datepicker {
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 12px 8px;
        gap: 8px;
        width: 250px;
        height: 48px;
        border: 2px solid #B3B3B3;
        border-radius: 8px;
        flex: none;
        order: 1;
        align-self: stretch;
        flex-grow: 0;
        }
        .typeOT {
          padding: 30px;
        }
        .input {
          padding: 30px;
          position: relative;
          display:inline-block;
          margin-top: 20px;

        }
        .iconka {
          position:absolute;
          left: 250px;
          top: 42px;
        }
         .ViborOT {
          font-weight: 700;
          margin-bottom: 20px;
        } 
        .formRadio {
          margin-right: 10px;
          padding: 10px;
        }
        .formRadio label {
          display: inline-block;
          cursor: pointer;
          padding: 0px 15px;
          line-height: 34px;
          border: 1px solid #999;
          border-radius: 6px;
          user-select: none;
        }
        
        /* Checked */
        .formRadio input[type=radio]:checked + label {
          background: #ffe0a6;
          font-weight: 900;
          font-size: 20px;
          color:#545
        }
        
        /* Hover */
        .formRadio label:hover {
          color: #666;
        }
        /* Disabled */
        .formRadio input[type=radio]:disabled + label {
          background: #efefef;
          color: #666;
        } 
        





        /* для элемента input c type="radio" */
  .put {
    position: absolute;
    z-index: -1;
    opacity: 0;
  }

  /* для элемента label связанного с .custom-radio */
  .put+label {
    display: inline-flex;
    align-items: center;
    user-select: none;
  }

  /* создание в label псевдоэлемента  before со следующими стилями */
  .put+label::before {
    content: '';
    display: inline-block;
    width: 1em;
    height: 1em;
    flex-shrink: 0;
    flex-grow: 0;
    border: 1px solid #adb5bd;
    border-radius: 50%;
    margin-right: 0.5em;
    background-repeat: no-repeat;
    background-position: center center;
    background-size: 50% 50%;
  }

  /* стили при наведении курсора на радио */
  .put:not(:disabled):not(:checked)+label:hover::before {
    border-color: #b3d7ff;
  }

  /* стили для активной радиокнопки (при нажатии на неё) */
  .put:not(:disabled):active+label::before {
    background-color: #b3d7ff;
    border-color: #b3d7ff;
  }

  /* стили для радиокнопки, находящейся в фокусе */
  .put:focus+label::before {
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
  }

  /* стили для радиокнопки, находящейся в фокусе и не находящейся в состоянии checked */
  .put:focus:not(:checked)+label::before {
    border-color: #80bdff;
  }

  /* стили для радиокнопки, находящейся в состоянии checked */
  .put:checked+label::before {
    border-color: #0b76ef;
    background-color: #0b76ef;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e");
  }

  /* стили для радиокнопки, находящейся в состоянии disabled */
  .put:disabled+label::before {
    background-color: #e9ecef;
  }
    .formRadio {
      margin-bottom: 0.4em;
      padding: 10px;
    }
    .dfdf {
      text-align: start;
    }
    </style>
</head>
<body>
  <section>
    <div>
      <div class="typeOT">

            <div class="ViborOT">
                <spam>Какой тип отпуска вы хотите взять?</spam>
            </div>

        <div class="dfdf">

          <div class="formRadio">
          <input class="put" type="radio" id="O1" onclick="toggleRadio(true)" name="vacation" value="O1">
            <label class="labeLL" for="O1">Оплачиваемый</label>
          </div>

          <div class="formRadio">
          <input class="put" type="radio" id="O2" onclick="toggleRadio(true)" name="vacation" value="O2">
            <label  class="labeLL" for="O2">За свой счет</label>
            </div>

            <div class="formRadio">
          <input class="put" type="radio" id="O3" onclick="toggleRadio(true)" name="vacation" value="O3">
            <label  class="labeLL" for="O3">Другое</label>
            </div>
          </div>
        
      </div>
      <div>
        <spam class="twodate">Выберите 2 даты в календаре: дату начала и завершения отпуска</spam>
      </div>

      <div class="input"><input id="datepicker" disabled>
        <span><img class="iconka" src = "calendar.svg" alt="SVG" width="24" height="24"></span>
      </div>
      <script>
        const picker = new easepick.create({
            element: "#datepicker",
            css: [
                "https://cdn.jsdelivr.net/npm/@easepick/bundle@1.2.0/dist/index.css"
            ],
            zIndex: 10,
            lang: "ru-RU",
            format: "DD.MM.YYYY",
            calendars: 2,
            header: "Выбирайте дни в любом порядке",
            AmpPlugin: {
                dropdown: {
                    months: true,
                    years: true,
                    minYear: 2020,
                    maxYear: 2050
                },
                resetButton: true
            },
            RangePlugin: {
                delimiter: " % "
            },
            plugins: [
                "AmpPlugin",
                "RangePlugin"
            ]
        })
            </script>

      <div id="some-id" style="position: relative;"></div>
      <div class="GlButton" >
        <input class="forma" type="submit" value="Отправить форму">
      </div>
    </div>
    <div id="usercard"> <!--Карта профиля, человека, который к нам обратился-->
    </div>
    <p>Just text</p> <!--Просто текст для проверки-->
    <a class="link" href="https://sokolov.ru">Link</a> <!--Просто ссылка для проверки-->
    <p class="hint">Some little hint</p> <!--Просто текст-подсказка для проверки-->
    <button id="btn" class="button">Show/Hide Main Button</button> <!--Кнопка, чтобы скрыть / показать основную кнопку-->
    <button id="btnED" class="button">Enable/Disable Main Button</button> <!--Кнопка, чтобы сделать кнопку активной/неактивной-->
</section>
<script>
const logichata = {
  id:1,
  type:2,
  dates:"232432"
};

fetch("/api.v3.change-user-otpusk", {
  method:"PUT",
  body: JSON.parse({ data })
})

  .then(res => res.json())
  .then(json => {
    console.log(json);
  })

</script>
  <script>
    
    function toggleRadio(flag){
      if(!flag) {
        document.getElementById('datepicker').setAttribute("disabled", "true");
      } else {
        document.getElementById('datepicker').removeAttribute("disabled");
        document.getElementById('datepicker').focus();
      }
      
    }

  </script>

<script>
  let tg = window.Telegram.WebApp; //получаем объект webapp телеграма 

  tg.expand(); //расширяем на все окно  

  tg.MainButton.text = "Changed Text"; //изменяем текст кнопки 
  tg.MainButton.setText("Changed Text1"); //изменяем текст кнопки иначе
  tg.MainButton.textColor = "#F55353"; //изменяем цвет текста кнопки
  tg.MainButton.color = "#143F6B"; //изменяем цвет бэкграунда кнопки
  tg.MainButton.setParams({"color": "#143F6B"}); //так изменяются все параметры

  let btn = document.getElementById("btn"); //получаем кнопку скрыть/показать 

  btn.addEventListener('click', function(){ //вешаем событие на нажатие html-кнопки
     if (tg.MainButton.isVisible){ //если кнопка показана 
        tg.MainButton.hide() //скрываем кнопку 
     }
     else{ //иначе
        tg.MainButton.show() //показываем 
     }
  });

  let btnED = document.getElementById("btnED"); //получаем кнопку активировать/деактивировать
  btnED.addEventListener('click', function(){ //вешаем событие на нажатие html-кнопки
     if (tg.MainButton.isActive){ //если кнопка показана 
        tg.MainButton.setParams({"color": "#E0FFFF"}); //меняем цвет
        tg.MainButton.disable() //скрываем кнопку 
     }
     else{ //иначе
        tg.MainButton.setParams({"color": "#143F6B"}); //меняем цвет
        tg.MainButton.enable() //показываем 
     }
  });

  Telegram.WebApp.onEvent('mainButtonClicked', function(){
     tg.sendData("some string that we need to send"); 
     //при клике на основную кнопку отправляем данные в строковом виде
  });


  let usercard = document.getElementById("usercard"); //получаем блок usercard 

  let profName = document.createElement('p'); //создаем параграф
  profName.innerText = `${tg.initDataUnsafe.user.first_name}
  ${tg.initDataUnsafe.user.last_name}
  ${tg.initDataUnsafe.user.username} (${tg.initDataUnsafe.user.language_code})`;
  //выдем имя, "фамилию", через тире username и код языка
  usercard.appendChild(profName); //добавляем 

  let userid = document.createElement('p'); //создаем еще параграф 
  userid.innerText = `${tg.initDataUnsafe.user.id}`; //показываем user_id
  usercard.appendChild(userid); //добавляем


  //работает только в attachment menu
  // let pic = document.createElement('img'); //создаем img
  // pic.src = tg.initDataUnsafe.user.photo_url; //задаём src 
  // usercard.appendChild(pic); //добавляем элемент в карточку 
</script>